(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(12),r=c.n(o),l=c(8),i=(c(24),c(25),c(26),c(6)),s=c(19),a=c.n(s),d=c(4),u=c(10),j=c.n(u),b=c(7),m=c(13),f=Object(m.b)({name:"todos",initialState:{todos:[]},reducers:{addTodo:function(e,t){var c=t.payload;e.todos.push(c)},changeTodoStatus:function(e,t){var c=t.payload,n=e.todos.find((function(e){return e.id===c}));n.completed=!n.completed},changeTodoTitle:function(e,t){var c=t.payload;e.todos.find((function(e){return e.id===c.id})).title=c.title},changeAllTodosStatus:function(e){e.todos.some((function(e){return!1===e.completed}))?e.todos=e.todos.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{completed:!0})})):e.todos=e.todos.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{completed:!e.completed})}))},deleteTodo:function(e,t){var c=t.payload;e.todos=e.todos.filter((function(e){return e.id!==c}))}}}),O=f.actions,h=O.addTodo,p=O.deleteTodo,x=O.changeTodoStatus,v=O.changeTodoTitle,g=O.changeAllTodosStatus,y=f.reducer,N=c(2),k=c(1),S=function(e){var t=e.todo,c=Object(i.b)(),o=Object(n.useState)(!1),r=Object(d.a)(o,2),l=r[0],s=r[1],a=Object(n.useState)(t.title),u=Object(d.a)(a,2),b=u[0],m=u[1],f=Object(n.useRef)(null),O=Object(n.useCallback)((function(e){var c;27===e.keyCode&&(m(t.title),null===(c=f.current)||void 0===c||c.blur())}),[t]);return Object(k.jsxs)("li",{className:j()("todo-item",{completed:!0===t.completed},{editing:l}),children:[Object(k.jsxs)("div",{className:"view",children:[Object(k.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(){c(x(t.id))}}),Object(k.jsx)("label",{onDoubleClick:function(e){return e.target,s(!0),document.addEventListener("keyup",O),void requestAnimationFrame((function(){var e;null===(e=f.current)||void 0===e||e.focus()}))},children:t.title}),Object(k.jsx)("button",{type:"button",className:"destroy",onClick:function(){c(p(t.id))}})]}),Object(k.jsx)("input",{type:"text",className:"edit",id:"editTodo",ref:f,value:b,onChange:function(e){return m(e.target.value)},onBlur:function(){b.trim().length?c(v({id:t.id,title:b})):c(p(t.id)),s(!1),document.removeEventListener("keyup",O)},onKeyPress:function(e){var t;"Enter"===e.key&&(null===(t=f.current)||void 0===t||t.blur())}})]})},T=function(e){var t=e.todos;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(k.jsx)(S,{todo:e},e.id)}))})})},C="all",A="active",w="completed",E=function(){var e=Object(i.c)((function(e){return e.todos})).todos;return Object(k.jsxs)(N.d,{children:[Object(k.jsx)(N.b,{path:"/",element:Object(k.jsx)(T,{todos:e})}),Object(k.jsx)(N.b,{path:C,element:Object(k.jsx)(N.a,{to:"/"})}),Object(k.jsx)(N.b,{path:A,element:Object(k.jsx)(T,{todos:e.filter((function(e){return!e.completed}))})}),Object(k.jsx)(N.b,{path:w,element:Object(k.jsx)(T,{todos:e.filter((function(e){return e.completed}))})}),Object(k.jsx)(N.b,{path:"*",element:Object(k.jsx)(N.a,{to:"/"})})]})},F=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],o=t[1],r=Object(i.c)((function(e){return e.todos})).todos,s=Object(i.b)(),a=r.filter((function(e){return!1===e.completed}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("header",{className:"header",children:[Object(k.jsx)("h1",{children:"todos"}),Object(k.jsx)("form",{onSubmit:function(){if(c.trim("").length){var e={id:+new Date,title:c,completed:!1};s(h(e)),o("")}},children:Object(k.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:c,onChange:function(e){return o(e.target.value)}})})]}),Object(k.jsxs)("section",{className:"main",children:[Object(k.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:r.some((function(e){return!1===e.completed})),onClick:function(){s(g())}}),Object(k.jsx)("label",{hidden:0===r.length,htmlFor:"toggle-all",children:"Mark all as complete"}),Object(k.jsx)(E,{})]}),0!==r.length&&Object(k.jsxs)("footer",{className:"footer",children:[Object(k.jsx)("span",{className:"todo-count",children:"".concat(a.length," items left")}),Object(k.jsxs)("ul",{className:"filters",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{to:"/",className:function(e){var t=e.isActive;return j()({selected:t})},children:"All"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{to:"/active",className:function(e){var t=e.isActive;return j()({selected:t})},children:"Active"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{to:"/completed",className:function(e){var t=e.isActive;return j()({selected:t})},children:"Completed"})})]}),Object(k.jsx)("button",{type:"button",className:"clear-completed",hidden:r.every((function(e){return!1===e.completed})),onClick:function(){r.filter((function(e){return!0===e.completed})).forEach((function(e){return s(p(e.id))}))},children:"Clear completed"})]})]})},J=Object(m.a)({reducer:{todos:y},preloadedState:function(){try{var e=localStorage.getItem("todos");if(null===e)return;return JSON.parse(e)}catch(t){return}}()});J.subscribe(a()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("todos",t)}catch(c){}}(J.getState())}),800));var I=function(){return Object(k.jsx)("section",{className:"todoapp",children:Object(k.jsx)(F,{})})};r.a.render(Object(k.jsx)(l.a,{children:Object(k.jsx)(i.a,{store:J,children:Object(k.jsx)(I,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.c3d629c7.chunk.js.map